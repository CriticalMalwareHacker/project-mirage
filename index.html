<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homepage</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <nav>
      <div class="logo">
        <img src="logo.png" alt="Company Logo" height="100px" width="100px" />
      </div>
      <div class="nav-text">Project Mirage</div>
      <div class="spacer"></div>  
      <ul>
        <li><a href="home.html">Home</a></li>
        <li><a href="index.html">ButtonDash: Color Quest</a></li>
        <li><a href="pixel-art.html">Aim-clicker</a></li>
      </ul>
    </nav>  
    <div class="particles"></div>

    <main>
      <h3 class="animate-character" style="text-align: center; font-size: 60px;">ButtonDash: Color Quest</h3>

      <h1>
        Random Number:
        <span id="random-number"></span>
        Points: <span id="points">0</span> <!-- New span to display the points -->
      </h1>

      <div class="controls">  
        <!-- Input field to change text and button color -->
        <div class="color-control">
          <label for="color-input">Choose a color:</label>
          <input type="color" id="color-input" placeholder="Enter a color" value="#2ecc71" />
          <button id="color-button" onclick="changeColor()">Apply Color</button>
        </div>
        <!-- Button to trigger the generation of a random number -->
        <button id="generate-button" onclick="fetchRandomNumber()">Generate Random Number</button>
      </div> 
  
    </main>
  
    <script>
  const randomNumberElement = document.getElementById("random-number");
  const pointsElement = document.getElementById("points");
  const generateButton = document.getElementById('generate-button');
  const colorButton = document.getElementById('color-button');
  let points = 0;

  const particlesContainer = document.querySelector('.particles');

  function fetchRandomNumber() {
    const data = Math.floor(Math.random() * 100);
    randomNumberElement.innerText = data;
    moveButton(); 
  }

  function moveButton() {
    const containerWidth = document.body.offsetWidth;
    const containerHeight = document.body.offsetHeight;
    const buttonWidth = generateButton.offsetWidth;
    const buttonHeight = generateButton.offsetHeight;

    const randomX = Math.floor(Math.random() * (containerWidth - buttonWidth));
    const randomY = Math.floor(Math.random() * (containerHeight - buttonHeight));

    generateButton.style.position = 'absolute';
    generateButton.style.top = `${randomY}px`;
    generateButton.style.left = `${randomX}px`;

    points++;
    pointsElement.innerText = points;

    addParticles(10); 
  }

  function addParticles(number) {
    for (let i = 0; i < number; i++) {
      const particle = document.createElement('div');
      particle.classList.add('particle');
      particle.style.left = `${Math.random() * 100}vw`;
      particle.style.top = `${Math.random() * 100}vh`;
      particlesContainer.appendChild(particle);
    }
  }

  function changeColor() {
  
    const colorInput = document.getElementById('color-input').value;
    if (colorInput) {
      generateButton.style.backgroundColor = colorInput;
      colorButton.style.backgroundColor = colorInput;
    }
  }
  document.addEventListener("DOMContentLoaded", function() {
  const colorControl = document.querySelector('.color-control');
  const generateButton = document.getElementById('generate-button');
  
  const { right, top } = colorControl.getBoundingClientRect();
  generateButton.style.position = 'absolute'; 
  generateButton.style.left = `${right + 10}px`; 
  generateButton.style.top = `${top}px`;
});

  addParticles(100);

  fetchRandomNumber();
    </script>
  </body>
</html>
